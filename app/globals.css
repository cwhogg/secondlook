@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;
    --primary: 210 100% 56%;
    --primary-foreground: 0 0% 100%;
    --secondary: 215 25% 27%;
    --secondary-foreground: 0 0% 100%;
    --muted: 220 13% 91%;
    --muted-foreground: 215 16% 47%;
    --accent: 142 71% 45%;
    --accent-foreground: 0 0% 100%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    --border: 220 13% 91%;
    --input: 220 13% 91%;
    --ring: 210 100% 56%;
    --radius: 0.75rem;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;
    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;
    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;
    --primary: 210 100% 56%;
    --primary-foreground: 0 0% 100%;
    --secondary: 215 25% 27%;
    --secondary-foreground: 0 0% 100%;
    --muted: 215 25% 27%;
    --muted-foreground: 215 20% 65%;
    --accent: 142 71% 45%;
    --accent-foreground: 0 0% 100%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    --border: 215 25% 27%;
    --input: 215 25% 27%;
    --ring: 210 100% 56%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  html {
    font-feature-settings: "cv02", "cv03", "cv04", "cv11";
    font-variant-numeric: oldstyle-nums;
  }

  body {
    @apply bg-white text-neutral-900 antialiased;
    font-family:
      system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-semibold tracking-tight;
  }

  h1 {
    @apply text-3xl md:text-4xl;
  }

  h2 {
    @apply text-2xl md:text-3xl;
  }

  h3 {
    @apply text-xl md:text-2xl;
  }

  h4 {
    @apply text-lg md:text-xl;
  }

  p {
    @apply leading-relaxed;
  }

  button {
    @apply font-medium;
  }
}

/* Modern Status Bars */
@layer components {
  .status-bar {
    @apply flex items-center justify-between px-4 py-2 text-sm font-medium;
  }

  .status-bar-success {
    @apply bg-green-50 text-green-800 border-l-4 border-green-500;
  }

  .status-bar-warning {
    @apply bg-amber-50 text-amber-800 border-l-4 border-amber-500;
  }

  .status-bar-error {
    @apply bg-red-50 text-red-800 border-l-4 border-red-500;
  }

  .status-bar-info {
    @apply bg-blue-50 text-blue-800 border-l-4 border-blue-500;
  }

  .status-bar-pending {
    @apply bg-purple-50 text-purple-800 border-l-4 border-purple-500;
  }

  /* Progress Indicators */
  .progress-modern {
    @apply w-full bg-neutral-200 rounded-full h-2 overflow-hidden;
  }

  .progress-modern-fill {
    @apply h-full bg-gradient-to-r from-blue-500 to-blue-600 rounded-full transition-all duration-500 ease-out;
  }

  .progress-steps {
    @apply flex items-center justify-between w-full;
  }

  .progress-step {
    @apply flex items-center justify-center w-8 h-8 rounded-full text-sm font-semibold transition-all duration-300;
  }

  .progress-step-completed {
    @apply bg-green-500 text-white shadow-sm;
  }

  .progress-step-current {
    @apply bg-blue-500 text-white shadow-md;
  }

  .progress-step-pending {
    @apply bg-neutral-200 text-neutral-500;
  }

  .progress-connector {
    @apply flex-1 h-0.5 mx-2 bg-neutral-200 relative overflow-hidden;
  }

  .progress-connector-completed {
    @apply bg-green-500;
  }

  /* Modern Cards */
  .card-modern {
    @apply bg-white rounded-2xl shadow-sm border border-neutral-100 overflow-hidden;
  }

  .card-modern-hover {
    @apply transition-all duration-300 hover:shadow-md hover:border-neutral-200;
  }

  .card-modern-interactive {
    @apply cursor-pointer active:scale-[0.98] transition-transform duration-150;
  }

  /* Modern Buttons */
  .btn-modern {
    @apply inline-flex items-center justify-center px-6 py-3 text-base font-semibold rounded-xl transition-all duration-200 focus:outline-none focus:ring-4 focus:ring-opacity-50 disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-primary {
    @apply bg-blue-500 text-white hover:bg-blue-600 focus:ring-blue-500 shadow-sm hover:shadow-md;
  }

  .btn-secondary {
    @apply bg-neutral-100 text-neutral-900 hover:bg-neutral-200 focus:ring-neutral-500 border border-neutral-200;
  }

  .btn-success {
    @apply bg-green-500 text-white hover:bg-green-600 focus:ring-green-500 shadow-sm hover:shadow-md;
  }

  .btn-warning {
    @apply bg-amber-500 text-white hover:bg-amber-600 focus:ring-amber-500 shadow-sm hover:shadow-md;
  }

  .btn-error {
    @apply bg-red-500 text-white hover:bg-red-600 focus:ring-red-500 shadow-sm hover:shadow-md;
  }

  .btn-outline {
    @apply bg-transparent border-2 border-current hover:bg-current hover:text-white focus:bg-current focus:text-white;
  }

  .btn-ghost {
    @apply bg-transparent hover:bg-neutral-100 focus:bg-neutral-100;
  }

  /* Modern Form Elements */
  .input-modern {
    @apply w-full px-4 py-3 text-base bg-white border border-neutral-200 rounded-xl focus:outline-none focus:ring-4 focus:ring-blue-500 focus:ring-opacity-20 focus:border-blue-500 transition-all duration-200;
  }

  .input-error {
    @apply border-red-500 focus:ring-red-500 focus:border-red-500;
  }

  .input-success {
    @apply border-green-500 focus:ring-green-500 focus:border-green-500;
  }

  .label-modern {
    @apply block text-sm font-semibold text-neutral-700 mb-2;
  }

  .label-required::after {
    @apply text-red-500 ml-1;
    content: "*";
  }

  /* Mobile Optimizations */
  .touch-target {
    min-width: 44px;
    min-height: 44px;
  }

  .touch-target-large {
    min-width: 48px;
    min-height: 48px;
  }

  .mobile-padding {
    @apply px-4 sm:px-6 lg:px-8;
  }

  .mobile-spacing {
    @apply space-y-4 sm:space-y-6;
  }

  /* Animations */
  .animate-fade-in {
    animation: fade-in 0.3s ease-out;
  }

  .animate-slide-up {
    animation: slide-up 0.3s ease-out;
  }

  /* Safe Areas */
  .safe-area-top {
    padding-top: env(safe-area-inset-top);
  }

  .safe-area-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .pb-safe {
    padding-bottom: calc(1rem + env(safe-area-inset-bottom));
  }
}

/* High Contrast Mode */
.high-contrast {
  --background: 0 0% 100%;
  --foreground: 0 0% 0%;
  --card: 0 0% 100%;
  --card-foreground: 0 0% 0%;
  --primary: 0 0% 0%;
  --primary-foreground: 0 0% 100%;
  --secondary: 0 0% 20%;
  --secondary-foreground: 0 0% 100%;
  --muted: 0 0% 90%;
  --muted-foreground: 0 0% 20%;
  --accent: 0 0% 20%;
  --accent-foreground: 0 0% 100%;
  --destructive: 0 100% 40%;
  --destructive-foreground: 0 0% 100%;
  --border: 0 0% 50%;
  --input: 0 0% 90%;
  --ring: 0 0% 0%;
}

.high-contrast * {
  border-color: hsl(var(--border)) !important;
}

.high-contrast button {
  border: 2px solid hsl(var(--border)) !important;
}

.high-contrast input,
.high-contrast textarea,
.high-contrast select {
  border: 2px solid hsl(var(--border)) !important;
  background: hsl(var(--background)) !important;
  color: hsl(var(--foreground)) !important;
}

/* Reduced Motion */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Print Styles */
@media print {
  @page {
    margin: 0.5in;
    size: letter;
  }

  body {
    -webkit-print-color-adjust: exact;
    color-adjust: exact;
  }

  .no-print {
    display: none !important;
  }

  .print-break-before {
    page-break-before: always;
  }

  .print-break-after {
    page-break-after: always;
  }

  .print-break-inside-avoid {
    page-break-inside: avoid;
  }

  /* Ensure backgrounds print */
  .bg-blue-50,
  .bg-green-50,
  .bg-amber-50,
  .bg-red-50 {
    -webkit-print-color-adjust: exact;
    color-adjust: exact;
  }

  /* Simplify shadows for print */
  .shadow-sm,
  .shadow-md,
  .shadow-lg {
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1) !important;
  }

  /* Ensure text is readable */
  .text-neutral-600,
  .text-neutral-700 {
    color: #404040 !important;
  }
}

/* Screen Reader Only */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Skip Links */
.skip-link {
  position: absolute;
  top: -40px;
  left: 6px;
  background: hsl(var(--primary));
  color: hsl(var(--primary-foreground));
  padding: 8px;
  text-decoration: none;
  border-radius: 4px;
  z-index: 1000;
}

.skip-link:focus {
  top: 6px;
}

/* Blog / MDX Content Typography */
.mdx-content h1 {
  @apply text-3xl md:text-4xl font-bold text-gray-900 mt-10 mb-4;
}

.mdx-content h2 {
  @apply text-2xl md:text-3xl font-bold text-gray-900 mt-8 mb-3;
}

.mdx-content h3 {
  @apply text-xl md:text-2xl font-semibold text-gray-900 mt-6 mb-2;
}

.mdx-content h4 {
  @apply text-lg font-semibold text-gray-900 mt-5 mb-2;
}

.mdx-content p {
  @apply text-gray-700 leading-relaxed mb-4;
}

.mdx-content a {
  @apply text-purple-600 hover:text-purple-800 underline underline-offset-2 transition-colors;
}

.mdx-content ul {
  @apply list-disc list-outside ml-6 mb-4 space-y-1 text-gray-700;
}

.mdx-content ol {
  @apply list-decimal list-outside ml-6 mb-4 space-y-1 text-gray-700;
}

.mdx-content li {
  @apply leading-relaxed;
}

.mdx-content blockquote {
  @apply border-l-4 border-purple-300 bg-purple-50/50 pl-4 py-2 my-4 text-gray-700 italic;
}

.mdx-content table {
  @apply min-w-full divide-y divide-gray-200 border border-gray-200 rounded-lg my-6;
}

.mdx-content thead {
  @apply bg-gray-50;
}

.mdx-content th {
  @apply px-4 py-3 text-left text-sm font-semibold text-gray-900;
}

.mdx-content td {
  @apply px-4 py-3 text-sm text-gray-700 border-t border-gray-100;
}

.mdx-content code {
  @apply bg-gray-100 text-purple-700 rounded px-1.5 py-0.5 text-sm font-mono;
}

.mdx-content pre {
  @apply bg-gray-900 text-gray-100 rounded-xl p-4 overflow-x-auto my-4 text-sm;
}

.mdx-content pre code {
  @apply bg-transparent text-inherit p-0 rounded-none;
}

.mdx-content hr {
  @apply my-8 border-gray-200;
}

.mdx-content strong {
  @apply font-semibold text-gray-900;
}

/* CTA links that are the only child of a paragraph (standalone link lines) */
.mdx-content p > a:only-child {
  @apply inline-flex items-center no-underline bg-gradient-to-r from-purple-600 to-blue-600 text-white px-6 py-3 rounded-xl font-semibold shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-300;
}
